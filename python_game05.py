def print_board(board):
    """ìŠ¤ë„ì¿  ë³´ë“œë¥¼ ì¶œë ¥í•©ë‹ˆë‹¤."""
    for i in range(9):
        if i % 3 == 0 and i != 0:
            print("- - - - - - - - - - -")
        for j in range(9):
            if j % 3 == 0 and j != 0:
                print("| ", end="")
            print(board[i][j] if board[i][j] != 0 else ".", end=" ")
        print()

def is_valid_move(board, row, col, num):
    """ì…ë ¥í•œ ìˆ«ìê°€ í•´ë‹¹ ìœ„ì¹˜ì— ìœ íš¨í•œì§€ í™•ì¸í•©ë‹ˆë‹¤."""
    # í–‰ ê²€ì‚¬
    if num in board[row]:
        return False
    # ì—´ ê²€ì‚¬
    if num in [board[i][col] for i in range(9)]:
        return False
    # 3x3 ë°•ìŠ¤ ê²€ì‚¬
    start_row, start_col = 3 * (row // 3), 3 * (col // 3)
    for i in range(start_row, start_row + 3):
        for j in range(start_col, start_col + 3):
            if board[i][j] == num:
                return False
    return True

def is_board_filled(board):
    """ìŠ¤ë„ì¿  ë³´ë“œê°€ ëª¨ë‘ ì±„ì›Œì¡ŒëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤."""
    for row in board:
        if 0 in row:
            return False
    return True

def solve_sudoku(board):
    """ìŠ¤ë„ì¿ ë¥¼ í‘¸ëŠ” í•¨ìˆ˜ (ë°±íŠ¸ë˜í‚¹ ì•Œê³ ë¦¬ì¦˜ ì‚¬ìš©) - ì´ ì˜ˆì œì—ì„œëŠ” ì‚¬ìš©ìê°€ ì§ì ‘ í’€ë„ë¡ í•©ë‹ˆë‹¤."""
    # ì´ í•¨ìˆ˜ëŠ” ìë™ í’€ì´ìš©ì´ë©°, ì´ ì˜ˆì œì—ì„œëŠ” ì •ë‹µ í™•ì¸ìš©ìœ¼ë¡œë§Œ í™œìš© ê°€ëŠ¥í•©ë‹ˆë‹¤.
    # ì‹¤ì œ ê²Œì„ í”Œë ˆì´ì—ì„œëŠ” ì‚¬ìš©ìê°€ ì§ì ‘ ìˆ«ìë¥¼ ì…ë ¥í•©ë‹ˆë‹¤.
    # (êµ¬í˜„ ìƒëµ)
    pass

def main():
    """ë©”ì¸ ìŠ¤ë„ì¿  ê²Œì„ í•¨ìˆ˜ì…ë‹ˆë‹¤."""
    # ì˜ˆì œ ìŠ¤ë„ì¿  ë³´ë“œ (0ì€ ë¹ˆ ì¹¸)
    # ì¢€ ë” ì‰¬ìš´ í¼ì¦ë¡œ ë³€ê²½
    board = [
        [5, 3, 0, 0, 7, 0, 0, 0, 0],
        [6, 0, 0, 1, 9, 5, 0, 0, 0],
        [0, 9, 8, 0, 0, 0, 0, 6, 0],
        [8, 0, 0, 0, 6, 0, 0, 0, 3],
        [4, 0, 0, 8, 0, 3, 0, 0, 1],
        [7, 0, 0, 0, 2, 0, 0, 0, 6],
        [0, 6, 0, 0, 0, 0, 2, 8, 0],
        [0, 0, 0, 4, 1, 9, 0, 0, 5],
        [0, 0, 0, 0, 8, 0, 0, 7, 9]
    ]

    # ìˆ˜ì • ë¶ˆê°€ëŠ¥í•œ ì´ˆê¸° ìˆ«ì í‘œì‹œ (ì„ íƒ ì‚¬í•­)
    initial_board = [row[:] for row in board] # ì´ˆê¸° ìƒíƒœ ë³µì‚¬

    print("ğŸ‰ 9x9 ìŠ¤ë„ì¿  ê²Œì„ì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤! ğŸ‰")
    print("ìˆ«ìë¥¼ ì…ë ¥í•˜ë ¤ë©´ 'í–‰ ì—´ ìˆ«ì' í˜•ì‹ìœ¼ë¡œ ì…ë ¥í•˜ì„¸ìš” (ì˜ˆ: 1 2 3).")
    print("ê²Œì„ì„ ì¢…ë£Œí•˜ë ¤ë©´ 'q'ë¥¼ ì…ë ¥í•˜ì„¸ìš”.")

    while True:
        print_board(board)
        if is_board_filled(board):
            # ëª¨ë“  ì¹¸ì´ ì±„ì›Œì¡ŒëŠ”ì§€ í™•ì¸í•˜ê³ , ì‹¤ì œ ì •ë‹µì¸ì§€ í™•ì¸í•˜ëŠ” ë¡œì§ ì¶”ê°€ ê°€ëŠ¥
            # ì—¬ê¸°ì„œëŠ” ê°„ë‹¨íˆ ëª¨ë“  ì¹¸ì´ ì±„ì›Œì§€ë©´ ì¢…ë£Œí•˜ë„ë¡ í•¨
            print("\nğŸ‰ ìŠ¤ë„ì¿ ë¥¼ ì™„ì„±í–ˆìŠµë‹ˆë‹¤! (ì •ë‹µ ì—¬ë¶€ëŠ” í™•ì¸í•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.) ğŸ‰")
            break

        user_input = input("\nì…ë ¥ (í–‰ ì—´ ìˆ«ì ë˜ëŠ” 'q'): ").strip().lower()

        if user_input == 'q':
            print("\nğŸ‘‹ ê²Œì„ì„ ì¢…ë£Œí•©ë‹ˆë‹¤. ë‹¤ìŒì— ë˜ ë§Œë‚˜ìš”!")
            break

        try:
            parts = user_input.split()
            if len(parts) != 3:
                print("âŒ ì˜ëª»ëœ ì…ë ¥ì…ë‹ˆë‹¤. 'í–‰ ì—´ ìˆ«ì' í˜•ì‹ìœ¼ë¡œ ì…ë ¥í•´ì£¼ì„¸ìš”. ì˜ˆ: 1 2 3")
                continue

            row, col, num = int(parts[0]) - 1, int(parts[1]) - 1, int(parts[2])

            if not (0 <= row < 9 and 0 <= col < 9 and 1 <= num <= 9):
                print("âŒ ì˜ëª»ëœ ì…ë ¥ì…ë‹ˆë‹¤. í–‰, ì—´ì€ 1-9, ìˆ«ìëŠ” 1-9 ì‚¬ì´ì—¬ì•¼ í•©ë‹ˆë‹¤.")
                continue

            if initial_board[row][col] != 0: # ì´ˆê¸° ìˆ«ìì¸ì§€ í™•ì¸
                print("ğŸš« ì´ ì¹¸ì€ ê²Œì„ ì‹œì‘ ì‹œ ì£¼ì–´ì§„ ìˆ«ìì´ë¯€ë¡œ ë³€ê²½í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
                continue

            if is_valid_move(board, row, col, num):
                board[row][col] = num
                print(f"âœ… ({row + 1}, {col + 1})ì— {num}ì„(ë¥¼) ì…ë ¥í–ˆìŠµë‹ˆë‹¤.")
            else:
                print("âŒ ìœ íš¨í•˜ì§€ ì•Šì€ ì…ë ¥ì…ë‹ˆë‹¤. ë‹¤ë¥¸ ìˆ«ìë¥¼ ì‹œë„í•´ë³´ì„¸ìš”.")

        except ValueError:
            print("âŒ ì˜ëª»ëœ ì…ë ¥ì…ë‹ˆë‹¤. ìˆ«ìë¥¼ ì •í™•íˆ ì…ë ¥í•´ì£¼ì„¸ìš”.")
        except Exception as e:
            print(f"ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: {e}")

if __name__ == "__main__":
    main()